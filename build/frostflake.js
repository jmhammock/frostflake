function _classPrivateFieldSet(e,t,r){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,r);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=r}return r}function _classPrivateFieldGet(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class GameTime{constructor(){_defineProperty(this,"startTime",void 0),_defineProperty(this,"lastFrameTime",void 0),_defineProperty(this,"frameSeconds",void 0),_defineProperty(this,"gameTimeSeconds",void 0),this.startTime=new Date,this.lastFrameTime=new Date,this.frameSeconds=0,this.gameTimeSeconds=0}update(){let e=this.lastFrameTime.getTime(),t=new Date,r=t-e;r<GameTime.MAX_FRAME_DELTA?this.frameSeconds=r/1e3:this.frameSeconds=0,this.gameTimeSeconds+=this.frameSeconds,this.lastFrameTime=t}}_defineProperty(GameTime,"MAX_FRAME_DELTA",500);class MathUtil{static invert(e){return 0-e}static normalizeAngle(e){const t=2*Math.PI;for(;e<0;)e+=t;for(;e>t;)e-=t;return e}static angleTo(e,t){let r=t.x-e.x,i=t.y-e.y;return MathUtil.normalizeAngle(Math.atan2(i,r))}static randomInRange(e,t){const r=t-e;return Math.random()*r+e}static vectorSubtract(e,t){return{x:e.x-t.x,y:e.y-t.y}}static length(e,t){let r=Math.pow(e,2)+Math.pow(t,2);return Math.abs(Math.sqrt(r))}static clamp(e,t,r){return e=Math.min(r,e),e=Math.max(t,e)}}class Sprite{set collision(e){_classPrivateFieldGet(this,_collisionShape)&&(_classPrivateFieldGet(this,_collisionShape).parent=null),_classPrivateFieldSet(this,_collisionShape,e),_classPrivateFieldGet(this,_collisionShape).parent=this}get collision(){return _classPrivateFieldGet(this,_collisionShape)}constructor(e=null){_defineProperty(this,"x",0),_defineProperty(this,"y",0),_defineProperty(this,"rotation",0),_defineProperty(this,"velocityX",0),_defineProperty(this,"velocityY",0),_defineProperty(this,"rotationVelocity",0),_defineProperty(this,"accelX",0),_defineProperty(this,"accelY",0),_defineProperty(this,"alpha",1),_defineProperty(this,"drag",0),_defineProperty(this,"layer",0),_defineProperty(this,"parent",null),_defineProperty(this,"children",[]),_defineProperty(this,"frame",null),_defineProperty(this,"texture",null),_defineProperty(this,"animation",null),_collisionShape.set(this,{writable:!0,value:null});this.texture=e,this.collision=new Circle,this.customConstruct()}addChild(e){e.parent=this,this.children.push(e)}removeChild(e){let t=this.children.indexOf(e);t>-1&&this.children.splice(t,1),e.parent=null}attach(e){e.addChild(this)}detach(){null!=this.parent&&this.parent.removeChild(this)}getAbsolutePosition(){let e={x:0,y:0,rotation:0};if(null!=this.parent){let t=this.parent.getAbsolutePosition(),r=MathUtil.length(this.x,this.y);e.x=Math.cos(t.rotation)*r+t.x,e.y=Math.sin(t.rotation)*r+t.y,e.rotation=t.rotation+this.rotation}else e.x=this.x,e.y=this.y,e.rotation=this.rotation;return e}update(){let e=FrostFlake.Game.time.frameSeconds,t=e*e/2;this.x+=this.velocityX*e+this.accelX*t,this.y+=this.velocityY*e+this.accelY*t,this.velocityX+=this.accelX*e-this.drag*this.velocityX*e,this.velocityY+=this.accelY*e-this.drag*this.velocityY*e,this.rotation+=this.rotationVelocity*e,this.rotation=MathUtil.normalizeAngle(this.rotation),this.children.sort((e,t)=>e.layer-t.layer);for(let e=0;e<this.children.length;e++)this.children[e].update();this.animation&&(this.animation.update(),this.texture=this.animation.texture,this.frame=this.animation.currentFrame()),this.customUpdate()}customConstruct(){}customUpdate(){}}var _collisionShape=new WeakMap;class Camera{get width(){return FrostFlake.Game.canvas.width}get height(){return FrostFlake.Game.canvas.height}get right(){return this.x+FrostFlake.Game.canvas.width/2}get left(){return this.x-FrostFlake.Game.canvas.width/2}get top(){return this.y+FrostFlake.Game.canvas.height/2}get bottom(){return this.y-FrostFlake.Game.canvas.height/2}constructor(){_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),this.x=0,this.y=0}update(){}}class CanvasRenderer{constructor(){_textureCache.set(this,{writable:!0,value:{}})}checkAndPreloadSprites(e){let t=!0;for(let r=0;r<e.length;r++)if(this.textureLoaded(e[r].texture)||(t=!1),e[r].children.length>0){!1===this.checkAndPreloadSprites(e[r].children)&&(t=!1)}return t}draw(e,t,r,i="rgb(0, 0, 0)"){let s=r.getContext("2d"),a=MathUtil.invert(t.x)+s.canvas.width/2,o=t.y+s.canvas.height/2;s.fillStyle=i,s.fillRect(0,0,s.canvas.width,s.canvas.height),s.save(),s.translate(a,o);for(let t=0;t<e.length;t++)this.drawSprite(e[t],s);s.restore()}drawSprite(e,t){let r=e.x,i=MathUtil.invert(e.y),s=-e.rotation,a=e.alpha;if(t.save(),t.translate(r,i),t.rotate(s),t.globalAlpha=a,this.textureLoaded(e.texture)){let r=_classPrivateFieldGet(this,_textureCache)[e.texture],i=e.frame;null==i&&((i=new Frame).width=r.width,i.height=r.height),t.drawImage(r,i.left,i.top,i.width,i.height,i.width/-2,i.height/-2,i.width,i.height),FrostFlake.Game.showDebug&&(t.strokeStyle="rgb(255, 0, 0)",t.strokeRect(-i.width/2,-i.height/2,i.width,i.height))}else this.loadTexture(e.texture);if(t.globalAlpha=1,e.children.length>0)for(let r=0;r<e.children.length;r++)this.drawSprite(e.children[r],t);t.restore()}textureLoaded(e){return null!==e&&e in _classPrivateFieldGet(this,_textureCache)&&_classPrivateFieldGet(this,_textureCache)[e]instanceof HTMLImageElement==!0}loadTexture(e,t=null){let r=new XMLHttpRequest,i=this;e in _classPrivateFieldGet(this,_textureCache)||(_classPrivateFieldGet(i,_textureCache)[e]="...",r.addEventListener("readystatechange",()=>{if(r.readyState===XMLHttpRequest.DONE){if(200!==r.status)throw`Failed to load ${e}`;{let t=document.createElement("img");t.src=URL.createObjectURL(r.response),_classPrivateFieldGet(i,_textureCache)[e]=t}}}),r.responseType="blob",r.open("GET",e,!0),r.send())}}var _textureCache=new WeakMap;class Frame{constructor(e=0,t=0,r=0,i=0,s=0){_defineProperty(this,"top",0),_defineProperty(this,"left",0),_defineProperty(this,"width",0),_defineProperty(this,"height",0),_defineProperty(this,"seconds",0),this.left=e,this.top=t,this.width=r,this.height=i,this.seconds=s}}class Animation{constructor(){_defineProperty(this,"name",""),_defineProperty(this,"frames",[]),_defineProperty(this,"texture",""),_defineProperty(this,"playing",!0),_defineProperty(this,"looping",!0),_defineProperty(this,"frameIndex",-1),_secondsLeftInFrame.set(this,{writable:!0,value:0})}currentFrame(){return this.frames[this.frameIndex]}start(){this.frameIndex<0&&this.restart(),this.playing=!0}stop(){this.playing=!1}restart(){this.frameIndex=0,_classPrivateFieldSet(this,_secondsLeftInFrame,this.currentFrame().seconds),this.playing=!0}update(){let e=FrostFlake.Game.time.frameSeconds;if(this.playing&&this.frames&&this.frames.length>1)for(_classPrivateFieldSet(this,_secondsLeftInFrame,_classPrivateFieldGet(this,_secondsLeftInFrame)-e);_classPrivateFieldGet(this,_secondsLeftInFrame)<=0;)this.frameIndex<this.frames.length-1?this.frameIndex+=1:this.looping&&(this.frameIndex=0),_classPrivateFieldSet(this,_secondsLeftInFrame,_classPrivateFieldGet(this,_secondsLeftInFrame)+this.currentFrame().seconds)}}var _secondsLeftInFrame=new WeakMap;class Shape{constructor(){_defineProperty(this,"x",0),_defineProperty(this,"y",0),_defineProperty(this,"rotation",void 0),_defineProperty(this,"parent",null)}getAbsolutePosition(){let e={x:0,y:0,rotation:0};if(null!=this.parent){let t=this.parent.getAbsolutePosition(),r=MathUtil.length(this.x,this.y);e.x=Math.cos(t.rotation)*r+t.x,e.y=Math.sin(t.rotation)*r+t.y,e.rotation=t.rotation+this.rotation}else e.x=this.x,e.y=this.y,e.rotation=this.rotation;return e}}class Circle extends Shape{constructor(e=16){super(),_defineProperty(this,"radius",void 0),this.radius=e}collidesWith(e,t=!1){if(e instanceof Circle){let r=this.getAbsolutePosition(),i=e.getAbsolutePosition(),s=MathUtil.vectorSubtract(r,i),a=MathUtil.length(s.x,s.y),o=this.radius+e.radius,n=a<o;if(n&&t){let e=o-a,t=MathUtil.angleTo(r,i),s=MathUtil.normalizeAngle(t-Math.PI);this.parent?(this.parent.x+=Math.cos(s)*e,this.parent.y+=Math.sin(s)*e):(this.x+=Math.cos(s)*e,this.y+=Math.cos(s)*e)}return n}}}class View{constructor(){_defineProperty(this,"sprites",[])}update(){for(let e=0;e<this.sprites.length;e++)this.sprites[e].update()}renderToTexture(e,t){let r=new Camera,i=document.createElement("canvas");return i.width=e,i.height=t,FrostFlake.Game.renderer.draw(this.sprites,r,i,"rgba(0,0,0,0)"),i.toDataURL()}addSprite(e){if(this.sprites.indexOf(e)>-1)throw"Sprite has already been added to view.";this.sprites.push(e)}removeSprite(e){let t=this.sprites.indexOf(e);t>-1&&this.sprites.splice(t,1)}clearSprites(){this.sprites=[]}}class Log{constructor(e="debug"){_level.set(this,{writable:!0,value:void 0}),_levels.set(this,{writable:!0,value:{debug:0,info:1,warn:2,error:3}}),_reverseLevels.set(this,{writable:!0,value:{0:"debug",1:"info",2:"warn",3:"error"}}),this.setLevel(e)}setLevel(e){if(!(e in _classPrivateFieldGet(this,_levels)))throw`${e} is not a valid debug level`;_classPrivateFieldSet(this,_level,e)}debug(e){this.write(_classPrivateFieldGet(this,_levels).debug,e)}info(e){this.write(_classPrivateFieldGet(this,_levels).info,e)}warn(e){this.write(_classPrivateFieldGet(this,_levels).warn,e)}error(e){this.write(_classPrivateFieldGet(this,_levels).error,e)}write(e,t){if(_classPrivateFieldGet(this,_levels)[_classPrivateFieldGet(this,_level)]<e){let r=_classPrivateFieldGet(this,_reverseLevels)[e];console.log(`${r}: ${t}`)}}}var _level=new WeakMap,_levels=new WeakMap,_reverseLevels=new WeakMap;class Cursor{constructor(){_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"changeX",void 0),_defineProperty(this,"changeY",void 0),_defineProperty(this,"worldX",void 0),_defineProperty(this,"worldY",void 0),_defineProperty(this,"isInFrame",void 0)}update(){this.worldX=FrostFlake.Game.camera.x+this.x,this.worldY=FrostFlake.Game.camera.y+this.y}setHardwarePosition(e,t){let r=e-FrostFlake.Game.canvas.width/2,i=MathUtil.invert(t)+FrostFlake.Game.canvas.height/2;this.changeX=this.x-r,this.changeY=this.y-i,this.x=r,this.y=i}}class Keys{}_defineProperty(Keys,"Backspace",8),_defineProperty(Keys,"Tab",9),_defineProperty(Keys,"Enter",13),_defineProperty(Keys,"Shift",16),_defineProperty(Keys,"Ctrl",17),_defineProperty(Keys,"Alt",18),_defineProperty(Keys,"PauseBreak",19),_defineProperty(Keys,"CapsLock",20),_defineProperty(Keys,"Esc",27),_defineProperty(Keys,"Space",32),_defineProperty(Keys,"PageUp",33),_defineProperty(Keys,"PageDown",34),_defineProperty(Keys,"End",35),_defineProperty(Keys,"Home",36),_defineProperty(Keys,"Left",37),_defineProperty(Keys,"Up",38),_defineProperty(Keys,"Right",39),_defineProperty(Keys,"Down",40),_defineProperty(Keys,"Insert",45),_defineProperty(Keys,"Delete",46),_defineProperty(Keys,"Oem0",48),_defineProperty(Keys,"Oem1",49),_defineProperty(Keys,"Oem2",50),_defineProperty(Keys,"Oem3",51),_defineProperty(Keys,"Oem4",52),_defineProperty(Keys,"Oem5",53),_defineProperty(Keys,"Oem6",54),_defineProperty(Keys,"Oem7",55),_defineProperty(Keys,"Oem8",56),_defineProperty(Keys,"Oem9",57),_defineProperty(Keys,"A",65),_defineProperty(Keys,"B",66),_defineProperty(Keys,"C",67),_defineProperty(Keys,"D",68),_defineProperty(Keys,"E",69),_defineProperty(Keys,"F",70),_defineProperty(Keys,"G",71),_defineProperty(Keys,"H",72),_defineProperty(Keys,"I",73),_defineProperty(Keys,"J",74),_defineProperty(Keys,"K",75),_defineProperty(Keys,"L",76),_defineProperty(Keys,"M",77),_defineProperty(Keys,"N",78),_defineProperty(Keys,"O",79),_defineProperty(Keys,"P",80),_defineProperty(Keys,"Q",81),_defineProperty(Keys,"R",82),_defineProperty(Keys,"S",83),_defineProperty(Keys,"T",84),_defineProperty(Keys,"U",85),_defineProperty(Keys,"V",86),_defineProperty(Keys,"W",87),_defineProperty(Keys,"X",88),_defineProperty(Keys,"Y",89),_defineProperty(Keys,"Z",90),_defineProperty(Keys,"Windows",91),_defineProperty(Keys,"RightClick",93),_defineProperty(Keys,"Num0",96),_defineProperty(Keys,"Num1",97),_defineProperty(Keys,"Num2",98),_defineProperty(Keys,"Num3",99),_defineProperty(Keys,"Num4",100),_defineProperty(Keys,"Num5",101),_defineProperty(Keys,"Num6",102),_defineProperty(Keys,"Num7",103),_defineProperty(Keys,"Num8",104),_defineProperty(Keys,"Num9",105),_defineProperty(Keys,"NumStar",106),_defineProperty(Keys,"NumPlus",107),_defineProperty(Keys,"NumMinus",109),_defineProperty(Keys,"NumPeriod",110),_defineProperty(Keys,"NumSlash",111),_defineProperty(Keys,"F1",112),_defineProperty(Keys,"F2",113),_defineProperty(Keys,"F3",114),_defineProperty(Keys,"F4",115),_defineProperty(Keys,"F5",116),_defineProperty(Keys,"F6",117),_defineProperty(Keys,"F7",118),_defineProperty(Keys,"F8",119),_defineProperty(Keys,"F9",120),_defineProperty(Keys,"F10",121),_defineProperty(Keys,"F11",122),_defineProperty(Keys,"F12",123),_defineProperty(Keys,"NumLock",144),_defineProperty(Keys,"ScrollLock",145),_defineProperty(Keys,"MyComputer",182),_defineProperty(Keys,"MyCalculator",183),_defineProperty(Keys,"Semicolon",186),_defineProperty(Keys,"Equal",187),_defineProperty(Keys,"Comma",188),_defineProperty(Keys,"Dash",189),_defineProperty(Keys,"Period",190),_defineProperty(Keys,"ForwardSlash",191),_defineProperty(Keys,"Tick",192),_defineProperty(Keys,"LeftBracket",219),_defineProperty(Keys,"Backslash",220),_defineProperty(Keys,"RightBracket",221),_defineProperty(Keys,"SingleQuote",222),_defineProperty(Keys,"char8","Backspace"),_defineProperty(Keys,"char9","Tab"),_defineProperty(Keys,"char13","Enter"),_defineProperty(Keys,"char16","Shift"),_defineProperty(Keys,"char17","Ctrl"),_defineProperty(Keys,"char18","Alt"),_defineProperty(Keys,"char19","PauseBreak"),_defineProperty(Keys,"char20","CapsLock"),_defineProperty(Keys,"char27","Esc"),_defineProperty(Keys,"char32","Space"),_defineProperty(Keys,"char33","PageUp"),_defineProperty(Keys,"char34","PageDown"),_defineProperty(Keys,"char35","End"),_defineProperty(Keys,"char36","Home"),_defineProperty(Keys,"char37","Left"),_defineProperty(Keys,"char38","Up"),_defineProperty(Keys,"char39","Right"),_defineProperty(Keys,"char40","Down"),_defineProperty(Keys,"char45","Insert"),_defineProperty(Keys,"char46","Delete"),_defineProperty(Keys,"char48","Oem0"),_defineProperty(Keys,"char49","Oem1"),_defineProperty(Keys,"char50","Oem2"),_defineProperty(Keys,"char51","Oem3"),_defineProperty(Keys,"char52","Oem4"),_defineProperty(Keys,"char53","Oem5"),_defineProperty(Keys,"char54","Oem6"),_defineProperty(Keys,"char55","Oem7"),_defineProperty(Keys,"char56","Oem8"),_defineProperty(Keys,"char57","Oem9"),_defineProperty(Keys,"char65","A"),_defineProperty(Keys,"char66","B"),_defineProperty(Keys,"char67","C"),_defineProperty(Keys,"char68","D"),_defineProperty(Keys,"char69","E"),_defineProperty(Keys,"char70","F"),_defineProperty(Keys,"char71","G"),_defineProperty(Keys,"char72","H"),_defineProperty(Keys,"char73","I"),_defineProperty(Keys,"char74","J"),_defineProperty(Keys,"char75","K"),_defineProperty(Keys,"char76","L"),_defineProperty(Keys,"char77","M"),_defineProperty(Keys,"char78","N"),_defineProperty(Keys,"char79","O"),_defineProperty(Keys,"char80","P"),_defineProperty(Keys,"char81","Q"),_defineProperty(Keys,"char82","R"),_defineProperty(Keys,"char83","S"),_defineProperty(Keys,"char84","T"),_defineProperty(Keys,"char85","U"),_defineProperty(Keys,"char86","V"),_defineProperty(Keys,"char87","W"),_defineProperty(Keys,"char88","X"),_defineProperty(Keys,"char89","Y"),_defineProperty(Keys,"char90","Z"),_defineProperty(Keys,"char91","Windows"),_defineProperty(Keys,"char93","RightClick"),_defineProperty(Keys,"char96","Num0"),_defineProperty(Keys,"char97","Num1"),_defineProperty(Keys,"char98","Num2"),_defineProperty(Keys,"char99","Num3"),_defineProperty(Keys,"char100","Num4"),_defineProperty(Keys,"char101","Num5"),_defineProperty(Keys,"char102","Num6"),_defineProperty(Keys,"char103","Num7"),_defineProperty(Keys,"char104","Num8"),_defineProperty(Keys,"char105","Num9"),_defineProperty(Keys,"char106","NumStar"),_defineProperty(Keys,"char107","NumPlus"),_defineProperty(Keys,"char109","NumMinus"),_defineProperty(Keys,"char110","NumPeriod"),_defineProperty(Keys,"char111","NumSlash"),_defineProperty(Keys,"char112","F1"),_defineProperty(Keys,"char113","F2"),_defineProperty(Keys,"char114","F3"),_defineProperty(Keys,"char115","F4"),_defineProperty(Keys,"char116","F5"),_defineProperty(Keys,"char117","F6"),_defineProperty(Keys,"char118","F7"),_defineProperty(Keys,"char119","F8"),_defineProperty(Keys,"char120","F9"),_defineProperty(Keys,"char121","F10"),_defineProperty(Keys,"char122","F11"),_defineProperty(Keys,"char123","F12"),_defineProperty(Keys,"char144","NumLock"),_defineProperty(Keys,"char145","ScrollLock"),_defineProperty(Keys,"char182","MyComputer"),_defineProperty(Keys,"char183","MyCalculator"),_defineProperty(Keys,"char186","Semicolon"),_defineProperty(Keys,"char187","Equal"),_defineProperty(Keys,"char188","Comma"),_defineProperty(Keys,"char189","Dash"),_defineProperty(Keys,"char190","Period"),_defineProperty(Keys,"char191","ForwardSlash"),_defineProperty(Keys,"char192","Tick"),_defineProperty(Keys,"char219","LeftBracket"),_defineProperty(Keys,"char220","Backslash"),_defineProperty(Keys,"char221","RightBracket"),_defineProperty(Keys,"char222","SingleQuote");class Mouse{}_defineProperty(Mouse,"Left",1),_defineProperty(Mouse,"Middle",2),_defineProperty(Mouse,"Right",3),_defineProperty(Mouse,"button1","Left"),_defineProperty(Mouse,"button2","Middle"),_defineProperty(Mouse,"button3","Right");class Input{constructor(){_defineProperty(this,"cursor",void 0),_keysDown.set(this,{writable:!0,value:{}}),_keysPushed.set(this,{writable:!0,value:{}}),_buttonsDown.set(this,{writable:!0,value:{}}),_buttonsPushed.set(this,{writable:!0,value:{}}),this.cursor=new Cursor,window.addEventListener("keydown",e=>this.onKeyDown(e)),window.addEventListener("keyup",e=>this.onKeyUp(e)),window.addEventListener("mousemove",e=>this.onMouseMove(e)),window.addEventListener("mousedown",e=>this.onMouseDown(e)),window.addEventListener("mouseup",e=>this.onMouseUp(e)),FrostFlake.Game.canvas.addEventListener("mouseenter",e=>this.onEnterCanvas(e)),FrostFlake.Game.canvas.addEventListener("mouseleave",e=>this.onExitCanvas(e))}update(){this.cursor.update();for(let e in _classPrivateFieldGet(this,_keysPushed))_classPrivateFieldGet(this,_keysPushed)[e]=!1;for(let e in _classPrivateFieldGet(this,_buttonsPushed))_classPrivateFieldGet(this,_buttonsPushed)[e]=!1}keyDown(e){let t=Keys["char"+e];return!0===_classPrivateFieldGet(this,_keysDown)[t]}keyPushed(e){let t=Keys["char"+e];return!0===_classPrivateFieldGet(this,_keysPushed)[t]}buttonDown(e){let t=Mouse["button"+e];return!0===_classPrivateFieldGet(this,_buttonsDown)[t]}buttonPushed(e){let t=Mouse["button"+e];return!0===_classPrivateFieldGet(this,_buttonsPushed)[t]}stopPropagation(e){this.cursor.isInFrame&&e.preventDefault()}onEnterCanvas(e){this.cursor.isInFrame=!0}onExitCanvas(e){this.cursor.isInFrame=!1}onMouseMove(e){this.cursor.setHardwarePosition(e.offsetX,e.offsetY)}onMouseDown(e){let t=Mouse["button"+e.which];_classPrivateFieldGet(this,_buttonsDown)[t]=!0,this.stopPropagation(e)}onMouseUp(e){let t=Mouse["button"+e.which];_classPrivateFieldGet(this,_buttonsDown)[t]=!1,_classPrivateFieldGet(this,_buttonsPushed)[t]=!0,this.stopPropagation(e)}onKeyDown(e){let t=Keys["char"+e.keyCode];_classPrivateFieldGet(this,_keysDown)[t]=!0,this.stopPropagation(e)}onKeyUp(e){let t=Keys["char"+e.keyCode];_classPrivateFieldGet(this,_keysDown)[t]=!1,_classPrivateFieldGet(this,_keysPushed)[t]=!0,this.stopPropagation(e)}}var _keysDown=new WeakMap,_keysPushed=new WeakMap,_buttonsDown=new WeakMap,_buttonsPushed=new WeakMap;class FrostFlake{constructor(e,t=30,r="rgb(0,0,0)"){_timer.set(this,{writable:!0,value:void 0}),_defineProperty(this,"time",void 0),_defineProperty(this,"fps",void 0),_defineProperty(this,"camera",void 0),_defineProperty(this,"canvas",void 0),_defineProperty(this,"renderer",void 0),_defineProperty(this,"view",void 0),_defineProperty(this,"background",void 0),_defineProperty(this,"input",void 0),_defineProperty(this,"showDebug",!1),FrostFlake.Game=this,FrostFlake.Log=new Log,this.canvas=e,this.fps=t,this.background=r,this.input=new Input,this.view=new View,FrostFlake.Log.info("FrostFlake instance created...")}start(){FrostFlake.Log.info("Starting FrostFlake..."),this.time=new GameTime,this.camera=new Camera,this.renderer=new CanvasRenderer;let e=this;_classPrivateFieldSet(this,_timer,window.setInterval(function(){e.update()},1e3/this.fps))}update(){this.time.update(),this.camera.update(),this.view.update(),this.input.update(),this.renderer.draw(this.view.sprites,this.camera,this.canvas,this.background)}}var _timer=new WeakMap;_defineProperty(FrostFlake,"Game",void 0),_defineProperty(FrostFlake,"Log",void 0);
//# sourceMappingURL=frostflake.js.map