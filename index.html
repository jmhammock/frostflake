<!DOCTYPE html >
<html>
    <head>
        <title>FrostFlake Examples</title>

        <!-- stylesheet -->
        <link rel="stylesheet" href="/example/screen.css" />

        <!-- dependencies -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>

        <!-- frostFlake -->
        <script type="text/javascript" src="Class.js"></script>
        <script type="text/javascript" src="Animation.js"></script>
        <script type="text/javascript" src="Camera.js"></script>
        <script type="text/javascript" src="Keyboard.js"></script>
        <script type="text/javascript" src="Mouse.js"></script>
        <script type="text/javascript" src="Input.js"></script>
        <script type="text/javascript" src="Io.js"></script>
        <script type="text/javascript" src="Renderer.js"></script>
        <script type="text/javascript" src="Sprite.js"></script>
        <script type="text/javascript" src="Util.js"></script>
        <script type="text/javascript" src="View.js"></script>
        <script type="text/javascript" src="frostFlake.js"></script>

        <!-- examplesFile -->
        <script type="text/javascript" src="/example/spriteDemo.js"></script>
        <script type="text/javascript" src="/example/animationDemo.js"></script>
        <script type="text/javascript" src="/example/inputDemo.js"></script>
        <script type="text/javascript" src="/example/cameraDemo.js"></script>
        <script type="text/javascript" src="/example/rendererDemo.js"></script>

        <script>
            var d1, d2, d3, d4, d5;

            // start all examples when page is fully loaded.
            /* global spriteDemo, animationDemo, inputDemo, cameraDemo, rendererDemo, $ */
            $(function() {
                "use strict";

                // initiate the demos
                d1 = new spriteDemo.Game($("canvas#spriteDemo")[0]);
                d2 = new animationDemo.Game($("canvas#animationDemo")[0]);
                d3 = new inputDemo.Game($("canvas#inputDemo")[0]);
                d4 = new cameraDemo.Game($("canvas#cameraDemo")[0]);
                d5 = new rendererDemo.Game($("canvas#rendererDemo")[0]);

            });
        </script>
    </head>
    <body>
        <!-- SPRITE DEMO -->
        <section class="demo">
            <h1>Sprite Demo</h1>
            <canvas id="spriteDemo"></canvas>
            <p>
                Sprites are the basic type that all game objects derive from. 
                Sprites don't have to have a texture. A sprite may not have a 
                texture of its own but can have textured child sprites that
                render. This allows the developer to create complex objects
                from modular, child objects.
            </p>
            <p>
                This example demonstrates a custom parent sprite with no texture.
                It contains two custom child sprites that are positioned relatively
                to the parent. As the parent rotates, the children are rendered
                relative to the parent rotation.
            </p>

            <p>
                <a href="/example/spriteDemo.js" target="_blank" title="Sprite Demo Source">View Source</a>
            </p>
        </section>

        <!-- ANIMATION DEMO -->
        <section class="demo">
            <h1>Animation Demo</h1>
            <canvas id="animationDemo"></canvas>
            <p>
                Animations exist as a property on a sprite object. An animation
                keeps track of sequences, frames, frame durations and the current
                frame that should render. Animations can be defined in code but
                it is recommended that developers define and load animations from
                JSON.
            </p>
            <p>
                This example demonstrates a spritesheet and a JSON-defined animation.
                Animating sprites behave just like non-animated sprites and can be
                attached to a parent sprite or have child sprites of their own.
            </p>
            <p>
                <a href="/example/animationDemo.js" target="_blank" title="Animation Demo Source">View Source</a>
            </p>

            <p>
                <a href="/example/animation.json" target="_blank" title="Animation JSON Source">View JSON</a>
            </p>
        </section>

        <!-- MOUSE DEMO -->
        <section class="demo">
            <h1>Input Demo</h1>
            <canvas id="inputDemo"></canvas>
            <p>
                FrostFlake provides a reference to keyboard and mouse input. Touchscreen
                input is supported but may require extra effort to implement.
            </p>
            <p>
                The frost flake in the example above will track the mouse. Press
                "R" on the keyboard to rotate the sprite. Click the mouse to fade
                the frost flake to 50% alpha.
            </p>
            <p>
                <a href="/example/inputDemo.js" target="_blank" title="Input Demo Source">View Source</a>
            </p>
        </section>

        <!-- CAMERA DEMO -->
        <section class="demo">
            <h1>Camera Demo (WASD moves camera)</h1>
            <canvas id="cameraDemo"></canvas>
            <p>
                FrostFlake creates a default camera object on the game instance.
                The camera can have a position set or position velocity like a Sprite.
                FrostFlake does not currently support camera rotation.
            </p>

            <p>
                Sprites have a "parallax" percentage property that allows them to move 
                with the camera and simulate depth. Use the WASD keys in the example 
                above to move the camera. The frost flake sprites have a random amount 
                of parallax so they appear to be positioned at different distances from 
                the camera. The sprites wrap at the screen edges so the camera appears
                to move through an infinite field of sprites.
            </p>

            <p>
                <a href="/example/cameraDemo.js" target="_blank" title="Camera Demo Source">View Source</a>
            </p>
        </section>

        <!-- RENDER TARGETS -->
        <section class="demo">
            <h1>Render Targets (WASD moves camera)</h1>
            <canvas id="rendererDemo"></canvas>
            <p>
                The FrostFlake renderer takes a camera, a target canvas and a collection of sprites
                for each draw call. In most cases, this happens behind the scenes. When you add sprites 
                using the currentView's addSprite() method, they are automatically rendered to the default
                canvas using the default camera. But large collections of sprites that are unchanging may 
                be inefficient to render individually 60 times per second. In these cases it's possible
                to render the collection of sprites to a unique canvas and use the canvas' dataUrl as 
                the source for a single sprite. This is extremely useful for things like tilemaps 
                where a large number of sprites have a static relationship to one another.
            </p>

            <p>
                The above example renders 100 frost flake sprites with random rotation to a 
                canvas once and then uses the canvas' dataUrl as the source for a single, 
                large sprite that's rendered every frame on the main canvas. Rendering many
                sprites continuously at 60fps would unlrealistic for performance but
                rendering a single, large sprite is possible. Once the first pass work is done, 
                performance should be smooth.
            </p>

            <p>
                <a href="/example/rendererDemo.js" target="_blank" title="Renderer Demo Source">View Source</a>
            </p>
        </section>        
        

    </body>
</html>